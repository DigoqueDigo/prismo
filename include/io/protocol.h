#ifndef PROTOCOL_H
#define PROTOCOL_H

#include <cstddef>
#include <fcntl.h>
#include <cstdint>
#include <generator/synthetic.h>
#include <operation/type.h>

namespace Protocol {

    struct OpenRequest {
        std::string filename;
        int flags;
        mode_t mode;
    };

    struct CloseRequest {
        int fd;
    };

    struct CommonRequest {
        int fd;
        size_t size;
        uint64_t offset;
        uint8_t* buffer;
        Generator::BlockMetadata metadata;
        Operation::OperationType operation;
    };

    struct Packet {
        bool isShutDown;
        CommonRequest request;
    };
}

#endif